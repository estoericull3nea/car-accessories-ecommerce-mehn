<html lang="en">
  <head>
    <%- include("partials/head") %>
    <link rel="stylesheet" href="/css/ads.css" />
    <link rel="stylesheet" href="/css/products.css" />
  </head>
  <body class="light">


    <%- include("partials/header") %>

    <nav aria-label="breadcrumb" class="container mt-3">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/">Home</a></li>
        <li class="breadcrumb-item active" aria-current="page">Products</li>
      </ol>
    </nav>

    
    <div class="main-ads">
      <div class="carousel">
        <input type="radio" name="switch" id="id1" />
        <a class="thumb"><img src="../images/car_battery/car_batt4.webp" /></a>
        <div class="info">
          <a href="#" class="title">Car Battery</a>
          <span class="ep_num_title">
            <a href="#" class="ep_num">10,000</a>
          </span>
        </div>

        <input type="radio" name="switch" id="id2" />
        <a class="thumb"><img src="../images/car_engine/car_engine1.webp" /></a>
        <div class="info">
          <a href="#" class="title">Car Engine</a>
          <span class="ep_num_title">
            <a href="#" class="ep_num">10,000</a>
          </span>
        </div>

        <input type="radio" name="switch" id="id3" />

        <a class="thumb"><img src="../images/car_mags/car_wheel2.webp" /></a>
        <div class="info">
          <a href="#" class="title">Car Mags</a>
          <span class="ep_num_title">
            <a href="#" class="ep_num">11,000</a>
          </span>
        </div>
        <input type="radio" name="switch" id="id4" />

        <a class="thumb"><img src="../images/car_muffler/car_muff3.webp" /></a>
        <div class="info">
          <a href="#" class="title">Car Muffler</a>
          <span class="ep_num_title">
            <a href="#" class="ep_num">12,000</a>
          </span>
        </div>

        <input type="radio" name="switch" id="id5" />

        <a class="thumb"><img src="../images/car_radiator/car_radia3.webp" /></a>
        <div class="info">
          <a href="#" class="title">Car Radiator</a>
          <span class="ep_num_title">
            <a href="#" class="ep_num">9,000</a>
          </span>
        </div>

        <div class="nav_pills">
          <span></span>
          <span></span>
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
    </div>


    <form action="/products" method="GET" class="container search-container">
      <input class="form-control" list="datalistOptions" placeholder="Type to search..." name="search">
      <datalist id="datalistOptions">

        <% for(let i=0; i<product.length; i++) { %>
            <option value="<%= product[i].title %>">
        <% } %>

      </datalist>
    </form>

    <div class="main-products">
      <div class="left">
        <div class="search-filter">

        <br>

          <h4 class="filter-many"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-funnel" viewBox="0 0 16 16">
            <path d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2h-11z"/>
          </svg> Filter Many</h4>
         
            <form action="/products" method="GET">

                <label>
                    <input type="checkbox" value="Battery" name="value1"> Battery
                </label>
                
                <br>

                <label>
                    <input type="checkbox" value="Brakes" name="value2"> Brakes
                </label>

                <br>

                <label>
                  <input type="checkbox" value="Engine" name="value3"> Engine
                </label>

                <br>

                <label>
                    <input type="checkbox" value="Mags" name="value4"> Mags
                </label>

                <br>

                <label>
                  <input type="checkbox" value="Muffler" name="value5"> Muffler
                </label>

                <br>

                <label>
                  <input type="checkbox" value="Radiator" name="value6"> Radiator
                </label>

                <br>

                <label>
                  <input type="checkbox" value="Steering Wheel" name="value7"> Steering Wheel
                </label>

                <br>

                <input type="submit" value="Filter" class="btn btn-primary btn-brown">
            </form>
        </div>

        <br>

        <div class="sort-price">
          <form>
            <br>

            <h4>Filter By Price</h4>
            <select name="option" class="form-select form-select-sm" aria-label="Small select example">
              <option selected value="greater">Greater Than</option>
              <option value="less">Less Than</option>
            </select>

            <label>
                <input type="number" name="priceRange"  min="1" placeholder="Input price"> 
            </label>

            <br>
            
            <button type="submit" class="btn btn-primary btn-brown btn-filter">Filter</button>
        </form>
        <br>
        </div>
      </div>
      <div class="right">
          <% if(productBasedOnSearch.length > 0) { %>
            <h4 class="text-center"><%= productBasedOnSearch.length %> Item(s)</h4>
              <div class="parent">
                <% for(let i=0; i<productBasedOnSearch.length; i++) { %>

                    <a href="/products/<%=productBasedOnSearch[i].id%>" class="card" style="width: 18rem">
                     

                      <form action="/user/add-to-bookmark" method="POST" class="book">
                        <input type="hidden" name="imgURL" value="<%= product[i].imgURL %>">
                        <input type="hidden" name="title" value="<%= product[i].title %>">
                        <input type="hidden" name="quantity" value="<%= product[i].quantity %>">
                        <input type="hidden" name="price" value="<%= product[i].price %>">
                        <input type="hidden" name="description" value="<%= product[i].description %>">
                        <input type="hidden" name="descFull" value="<%= product[i].descFull %>">
                        <input type="hidden" name="typeOfItem" value="<%= product[i].typeOfItem %>">
                        <input type="hidden" name="id" value="<%= product[i].id %>">
   
                         <button type="submit">
                           <span class="bookmark" title="bookmark">
                             <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="#8f4f07" class="bi bi-bookmark-plus-fill" viewBox="0 0 16 16" >
                               <path fill-rule="evenodd" d="M2 15.5V2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.74.439L8 13.069l-5.26 2.87A.5.5 0 0 1 2 15.5zm6.5-11a.5.5 0 0 0-1 0V6H6a.5.5 0 0 0 0 1h1.5v1.5a.5.5 0 0 0 1 0V7H10a.5.5 0 0 0 0-1H8.5V4.5z"/>
                             </svg>
                           </span>
                         </button>
                        
                       </form>
                    
                      <img src="<%= productBasedOnSearch[i].imgURL %>" class="card-img-top" alt="<%= productBasedOnSearch[i].imgURL %>" />
                    
                      <div class="card-body">
                        <h5 class="card-title"><%= productBasedOnSearch[i].title %></h5>
                        <p class="card-text">
                          â‚± <%= productBasedOnSearch[i].price %>
                        </p>
                        <p class="card-text">
                          <%= productBasedOnSearch[i].description %>
                        </p>

                          <form action="/cart" method="POST">
                            <input type="hidden" name="id" value="<%= productBasedOnSearch[i].id %>">
                            <button type="submit" href="#" class="btn btn-primary btn-brown btn-down btn-add-to-cart" >Add to cart</button>
                          </form>
                      </div>
                    </a>
            <% } %>

          </div>
          <br>
          <% } %>
             
          <% if(findThisPriceRange) { %>
            <h4 class="text-center"><%= findThisPriceRange.length %> Item(s)</h4>
            <div class="parent">
              <% for(let i=0; i<findThisPriceRange.length; i++) { %>
                  <a  href="/products/<%=findThisPriceRange[i].id%>" class="card" style="width: 18rem">
                    <form action="/user/add-to-bookmark" method="POST" class="book">
                      <input type="hidden" name="imgURL" value="<%= product[i].imgURL %>">
                      <input type="hidden" name="title" value="<%= product[i].title %>">
                      <input type="hidden" name="quantity" value="<%= product[i].quantity %>">
                      <input type="hidden" name="price" value="<%= product[i].price %>">
                      <input type="hidden" name="description" value="<%= product[i].description %>">
                      <input type="hidden" name="descFull" value="<%= product[i].descFull %>">
                      <input type="hidden" name="typeOfItem" value="<%= product[i].typeOfItem %>">
                      <input type="hidden" name="id" value="<%= product[i].id %>">
 
                       <button type="submit">
                         <span class="bookmark" title="bookmark">
                           <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="#8f4f07" class="bi bi-bookmark-plus-fill" viewBox="0 0 16 16" >
                             <path fill-rule="evenodd" d="M2 15.5V2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.74.439L8 13.069l-5.26 2.87A.5.5 0 0 1 2 15.5zm6.5-11a.5.5 0 0 0-1 0V6H6a.5.5 0 0 0 0 1h1.5v1.5a.5.5 0 0 0 1 0V7H10a.5.5 0 0 0 0-1H8.5V4.5z"/>
                           </svg>
                         </span>
                       </button>
                      
                     </form>
                    <img src="<%= findThisPriceRange[i].imgURL %>" class="card-img-top" alt="<%= findThisPriceRange[i].imgURL %>" />
                    <div class="card-body">
                     
                      <h5 class="card-title"><%= findThisPriceRange[i].title %></h5>
                      <p class="card-text">
                        â‚± <%= findThisPriceRange[i].price %>
                      </p>
                      <p class="card-text">
                        <%= findThisPriceRange[i].description %>
                      </p>
                        <form action="/cart" method="POST">
                          <input type="hidden" name="id" value="<%= findThisPriceRange[i].id %>">
                          <button type="submit" href="#" class="btn btn-primary btn-brown btn-down btn-add-to-cart" >Add to cart</button>
                        </form>
                       
                    </div>
                  </a>
             <% } %>
                </div>
                <br>
                  <hr>
                  <% if(!findThisPriceRange.length === 0) { %>
                      <hr>
                 <% } %>  
         <% } %>
       

            <% if(haveLength) { %>
              <div class="parent">
              <% for(let i=0; i<anotherArray.length; i++) { %>
                  <a  href="/products/<%=anotherArray[i].id%>" class="card" style="width: 18rem">
                    <form action="/user/add-to-bookmark" method="POST" class="book">
                      <input type="hidden" name="imgURL" value="<%= product[i].imgURL %>">
                      <input type="hidden" name="title" value="<%= product[i].title %>">
                      <input type="hidden" name="quantity" value="<%= product[i].quantity %>">
                      <input type="hidden" name="price" value="<%= product[i].price %>">
                      <input type="hidden" name="description" value="<%= product[i].description %>">
                      <input type="hidden" name="descFull" value="<%= product[i].descFull %>">
                      <input type="hidden" name="typeOfItem" value="<%= product[i].typeOfItem %>">
                      <input type="hidden" name="id" value="<%= product[i].id %>">
 
                       <button type="submit">
                         <span class="bookmark" title="bookmark">
                           <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="#8f4f07" class="bi bi-bookmark-plus-fill" viewBox="0 0 16 16" >
                             <path fill-rule="evenodd" d="M2 15.5V2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.74.439L8 13.069l-5.26 2.87A.5.5 0 0 1 2 15.5zm6.5-11a.5.5 0 0 0-1 0V6H6a.5.5 0 0 0 0 1h1.5v1.5a.5.5 0 0 0 1 0V7H10a.5.5 0 0 0 0-1H8.5V4.5z"/>
                           </svg>
                         </span>
                       </button>
                      
                     </form>
                    <img src="<%= anotherArray[i].imgURL %>" class="card-img-top" alt="<%= anotherArray[i].imgURL %>" />
                    <div class="card-body">
                     
                      <h5 class="card-title"><%= anotherArray[i].title %></h5>
                      <p class="card-text">
                        â‚± <%= anotherArray[i].price %>
                      </p>
                      <p class="card-text">
                        <%= anotherArray[i].description %>
                      </p>
                        <form action="/cart" method="POST">
                          <input type="hidden" name="id" value="<%= anotherArray[i].id %>">
                          <button type="submit" href="#" class="btn btn-primary btn-brown btn-down btn-add-to-cart" >Add to cart</button>
                        </form>
                    </div>
                  </a>
             <% } %>
                </div> 
           <% } else{ %>
            <div class="parent">
              <% for(let i=0; i<product.length; i++) { %>
                  <a href="/products/<%=product[i].id%>" class="card" style="width: 18rem">
                    <form action="/user/add-to-bookmark" method="POST" class="book">
                     <input type="hidden" name="imgURL" value="<%= product[i].imgURL %>">
                     <input type="hidden" name="title" value="<%= product[i].title %>">
                     <input type="hidden" name="quantity" value="<%= product[i].quantity %>">
                     <input type="hidden" name="price" value="<%= product[i].price %>">
                     <input type="hidden" name="description" value="<%= product[i].description %>">
                     <input type="hidden" name="descFull" value="<%= product[i].descFull %>">
                     <input type="hidden" name="typeOfItem" value="<%= product[i].typeOfItem %>">
                     <input type="hidden" name="id" value="<%= product[i].id %>">

                      <button type="submit">
                        <span class="bookmark" title="bookmark">
                          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="#8f4f07" class="bi bi-bookmark-plus-fill" viewBox="0 0 16 16" >
                            <path fill-rule="evenodd" d="M2 15.5V2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.74.439L8 13.069l-5.26 2.87A.5.5 0 0 1 2 15.5zm6.5-11a.5.5 0 0 0-1 0V6H6a.5.5 0 0 0 0 1h1.5v1.5a.5.5 0 0 0 1 0V7H10a.5.5 0 0 0 0-1H8.5V4.5z"/>
                          </svg>
                        </span>
                      </button>
                     
                    </form>
                       
                     
                     
                    <img src="<%= product[i].imgURL %>" class="card-img-top" alt="<%= product[i].imgURL %>" />
                    <div class="card-body">
                     
                      <h5 class="card-title"><%= product[i].title %></h5>
                      <p class="card-text">
                        â‚± <%= product[i].price %>
                      </p>
                      <p class="card-text">
                        <%= product[i].description %>
                      </p>
                      
                        <form action="/cart" method="POST">
                          <input type="hidden" name="id" value="<%= product[i].id %>">
                          <button type="submit" href="#" class="btn btn-primary btn-brown btn-down btn-add-to-cart" >Add to cart</button>
                        </form>
                       
                    </div>
                  </a>
             <% } %>
                </div>
           <% } %>
      </div>
    </div>

    <nav aria-label="Page navigation example" class="container-for-pagination">
      <ul class="pagination justify-content-center">
        <li class="page-item">
          <a class="page-link">Previous</a>
        </li>
        <li class="page-item"><a class="page-link" href="#">1</a></li>
        <li class="page-item"><a class="page-link" href="#">2</a></li>
        <li class="page-item"><a class="page-link" href="#">3</a></li>
        <li class="page-item">
          <a class="page-link" href="#">Next</a>
        </li>
      </ul>
    </nav>

     <%- include("partials/footer") %>
  </body>
</html>
